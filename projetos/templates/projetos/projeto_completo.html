{% extends "base.html" %}
{% comment %}
    Desenvolvido para o Projeto Final de Engenharia
    Autor: Luciano Pereira Soares <lpsoares@insper.edu.br>
    Data: 15 de Maio de 2019
{% endcomment %}

{% block head %}
{% endblock %}

{% block content %}
  {% if projeto.titulo_final %}
    <style>
        h3 {display: inline;}
    </style>
    <h3>Título: {{projeto.titulo_final}}</h3>
    <small> <br>&nbsp;&nbsp;&nbsp;&nbsp;Título Provisório: {{projeto.titulo}}</small><br>
  {% else %}
    <h3>Título: {{projeto.titulo}}</h3>
  {% endif %}
  <strong>Semestre:</strong> {{projeto.ano}}.{{projeto.semestre}}<br>
  {% if projeto.avancado %}
    <strong style="color:red"><u>PFE Avançado</u></strong><br>
  {% endif %}
  <br>

  <strong>Descrição:</strong> {{ projeto.descricao|linebreaks }}
  {% if projeto.expectativas %}
    <br><strong>Expectativas de resultados/entregas :</strong> {{ projeto.expectativas|linebreaks }}
  {% endif %}  
  {% if projeto.areas %}
    <br><strong>Áreas da engenharia envolvidas no projeto (habilidade necessárias):</strong> {{ projeto.areas|linebreaks }}
  {% endif %}
  {% if projeto.recursos %}
    <br><strong>Recursos a serem disponibilizados aos Alunos :</strong> {{ projeto.recursos|linebreaks }}
  {% endif %}
  {% if projeto.anexo %}
    <br><strong>Anexo :</strong>
    <a class="text-success" href="../..{{MEDIA_URL}}{{projeto.anexo}}">{{projeto.anexo}}</a>
  {% endif %}
  <hr>

  <h3>Organização Parceira: <a href="{% url 'organizacao_completo' projeto.empresa.login %}">{{ projeto.empresa.nome_empresa }}</a></h3>
  <p><strong>endereço:</strong> <a class="tabulado" href="http://maps.google.com/maps?q={{projeto.empresa.endereco}}">{{ projeto.empresa.endereco|linebreaks }}</a></p>
  {% if projeto.empresa.website %}
    <p><strong>website:</strong>  <a class="tabulado" href="{{ projeto.empresa.website }}"> {{ projeto.empresa.website }} </a></p>
  {% endif %} 
  {% if projeto.empresa.informacoes %}
    <strong>Informações sobre a empresa :</strong> {{ projeto.empresa.informacoes|linebreaks }}
  {% endif %}
  {% if projeto.departamento %}
    <strong>Informações sobre o departamento na empresa :</strong> {{ projeto.departamento|linebreaks }}
  {% endif %}
  {% if conexoes %}
  <strong>conexões:</strong><br>
    {% for conexao in conexoes %}
      <a class="tabulado" href="{% url 'parceiro_detail' conexao.usuario.parceiro.id %}">
        {{ conexao.usuario.get_full_name }}
      </a>
      {% if conexao.gestor_responsavel %}
        [gestor responsavel]
      {% endif %}
      {% if conexao.mentor_tecnico %}
        [mentor técnico]
      {% endif %}
      {% if conexao.recursos_humanos %}
        [recursos humanos]
      {% endif %}
      {% if conexao.observacao %}
        &nbsp;&nbsp;obs: {{conexao.observacao}}
      {% endif %}
      <br>
    {% endfor %}
  {% endif %}

  {% if projeto.orientador %}
  <hr>
  <h3>Orientador{% if projeto.orientador.user.genero == "F" %}a{% endif %}: </h3>
  &nbsp;
  <a href="{% url 'professor_detail' projeto.orientador.id %}">
    {{projeto.orientador.user.get_full_name}}
  </a>
  {% endif %}

  {% if coorientadores %}
    <br><br>
    &nbsp;<strong>coorientador(es):</strong><br>
    <ul>
    {% for coorientador in coorientadores %}
      <li>
      &nbsp;
      <a class="tabulado" href="{% url 'professor_detail' coorientador.usuario.professor.id %}">
        {{ coorientador.usuario.get_full_name }}
      </a>
      {% if coorientador.observacao %}
        &nbsp;&nbsp;obs: {{coorientador.observacao}}
      {% endif %}
      </li>
    {% endfor %}
    </ul>
  {% endif %}
  <br>
  <strong>autorizado para publicação para os alunos por:</strong>
  {% if projeto.autorizado %}
    <a href="{% url 'professor_detail' projeto.autorizado.id %}">
      {{projeto.autorizado.user.get_full_name}}
    </a>
  {% else %}
    &lt;&lt;aguardando autorização&gt;&gt;
  {% endif %}


  <hr>
  <h3>Aluno(s) Alocado(s) no Projeto:</h3>
  {% for alocacao in projeto.alocacao_set.all %}
    <a href="{% url 'aluno_detail' alocacao.aluno.id %}">
      <p>
        {{alocacao.aluno.user.get_full_name}} 
        &lt;{{alocacao.aluno.user.email}}&gt; 
        [{{ alocacao.aluno.get_curso_display }}]
        {% for opcao in alocacao.aluno.opcao_set.all %}
          {% if opcao.projeto == projeto %}
            (opção #{{opcao.prioridade}})
          {% endif %}
        {% endfor %}
      </p>
    </a>
  {% endfor %}

  <hr>
  <h3>Aluno(s) Aplicando para o Projeto</h3>
  {% for opcao in projeto.opcao_set.all %}
    {% if projeto.ano == opcao.aluno.anoPFE and projeto.semestre == opcao.aluno.semestrePFE %}
    <a href="{% url 'aluno_detail' opcao.aluno.id %}">
      <p class="{% if opcao.prioridade <= 5 %}green-bold{% else %}yellow-bold{% endif %}">
        {{opcao.aluno.user.get_full_name}}
        [{{ opcao.aluno.get_curso_display }}]
        &nbsp;=>&nbsp;opção #{{opcao.prioridade}}
        &nbsp;|&nbsp;{ {{opcao.aluno.anoPFE}}.{{opcao.aluno.semestrePFE}} }
        &nbsp;CR={{opcao.aluno.cr}}
      </p>
    </a>
    {% endif %}
  {% endfor %}
  <p style="line-height:2px">
    --------------------------------------------------------------------------------------
  </p>
  {% for opcao in projeto.opcao_set.all %}
    {% if projeto.ano != opcao.aluno.anoPFE or projeto.semestre != opcao.aluno.semestrePFE %}
    <a href="{% url 'aluno_detail' opcao.aluno.id %}">
      <p class="red-bold">
        {{opcao.aluno.user.get_full_name}}
        [{{ opcao.aluno.get_curso_display }}]
        &nbsp;=>&nbsp;opção #{{opcao.prioridade}}
        &nbsp;|&nbsp;{ {{opcao.aluno.anoPFE}}.{{opcao.aluno.semestrePFE}} }
        &nbsp;CR={{opcao.aluno.cr}}
      </p>
    </a>
    {% endif %}
  {% endfor %}

  <br><hr>
  <h3>Perfil de Alunos Desejados para Projeto</h3>
  <table>
    <tr>
        <th style="text-align:center" >
            Aluno
        </th>
        <th style="text-align:center" >
            Computação
        </th>
        <th style="text-align:center" >
            Mecânica
        </th>
        <th style="text-align:center" >
            Mecatrônica
        </th>
    </tr>
    <tr> <!-- NAO EH A FORMA MAIS ELEGANTE MAS FUNCIONA POR ENQUANTO -->
      <td>Aluno 1</td>
      <td style="text-align:center">&nbsp;<input type="checkbox" name="selection" value="{{projeto.id}}" 
        {% if projeto.perfil_aluno1_computacao %}checked{% endif %}>&nbsp;</td>
      <td style="text-align:center">&nbsp;<input type="checkbox" name="selection" value="{{projeto.id}}" 
        {% if projeto.perfil_aluno1_mecanica %}checked{% endif %}>&nbsp;</td>
      <td style="text-align:center">&nbsp;<input type="checkbox" name="selection" value="{{projeto.id}}" 
        {% if projeto.perfil_aluno1_mecatronica %}checked{% endif %}>&nbsp;</td>
    </tr>
    <tr>
      <td>Aluno 2</td>
      <td style="text-align:center">&nbsp;<input type="checkbox" name="selection" value="{{projeto.id}}" 
        {% if projeto.perfil_aluno2_computacao %}checked{% endif %}>&nbsp;</td>
      <td style="text-align:center">&nbsp;<input type="checkbox" name="selection" value="{{projeto.id}}" 
        {% if projeto.perfil_aluno2_mecanica %}checked{% endif %}>&nbsp;</td>
      <td style="text-align:center">&nbsp;<input type="checkbox" name="selection" value="{{projeto.id}}" 
        {% if projeto.perfil_aluno2_mecatronica %}checked{% endif %}>&nbsp;</td>
    </tr>
    <tr>
      <td>Aluno 3</td>
      <td style="text-align:center">&nbsp;<input type="checkbox" name="selection" value="{{projeto.id}}" 
        {% if projeto.perfil_aluno3_computacao %}checked{% endif %}>&nbsp;</td>
      <td style="text-align:center">&nbsp;<input type="checkbox" name="selection" value="{{projeto.id}}" 
        {% if projeto.perfil_aluno3_mecanica %}checked{% endif %}>&nbsp;</td>
      <td style="text-align:center">&nbsp;<input type="checkbox" name="selection" value="{{projeto.id}}" 
        {% if projeto.perfil_aluno3_mecatronica %}checked{% endif %}>&nbsp;</td>
    </tr>
    <tr>
      <td>Aluno 4</td>
      <td style="text-align:center">&nbsp;<input type="checkbox" name="selection" value="{{projeto.id}}" 
        {% if projeto.perfil_aluno4_computacao %}checked{% endif %}>&nbsp;</td>
      <td style="text-align:center">&nbsp;<input type="checkbox" name="selection" value="{{projeto.id}}" 
        {% if projeto.perfil_aluno4_mecanica %}checked{% endif %}>&nbsp;</td>
      <td style="text-align:center">&nbsp;<input type="checkbox" name="selection" value="{{projeto.id}}" 
        {% if projeto.perfil_aluno4_mecatronica %}checked{% endif %}>&nbsp;</td>
    </tr>
  </table>

  {% if projeto.recomendada_set.all %}
  <br><hr>
  <h3>Disciplina(s) Recomendada(s)</h3>
  <table>
    <tr>
      <th>
        Disciplina
      </th>
    </tr>
    {% for rec in projeto.recomendada_set.all %}
    <tr><td>
        {{rec.disciplina.nome}}
    </td></tr>
    {% endfor %}
  </table>
  {% endif %}



  {% if projeto.areas_de_interesse %}
    <br><hr>
    <h3>Áreas de Interesse</h3>
    <table>
    <tr><td>&nbsp;<input type="checkbox" name="selection" value="inovacao_social" 
            {% if projeto.areas_de_interesse.inovacao_social %}checked{% endif %}>&nbsp;
        </td>
        <td>Inovação Social</td>
    </tr>
    <tr><td>&nbsp;<input type="checkbox" name="selection" value="ciencia_dos_dados" 
            {% if projeto.areas_de_interesse.ciencia_dos_dados %}checked{% endif %}>&nbsp;
        </td>
        <td>Ciência dos Dados</td>
    </tr>
    <tr><td>&nbsp;<input type="checkbox" name="selection" value="modelagem_3D" 
            {% if projeto.areas_de_interesse.modelagem_3D %}checked{% endif %}>&nbsp;
        </td>
        <td>Modelagem 3D</td>
    </tr>      
    <tr><td>&nbsp;<input type="checkbox" name="selection" value="manufatura" 
            {% if projeto.areas_de_interesse.manufatura %}checked{% endif %}>&nbsp;
        </td>
        <td>Manufatura</td>
    </tr>
    <tr><td>&nbsp;<input type="checkbox" name="selection" value="resistencia_dos_materiais" 
            {% if projeto.areas_de_interesse.resistencia_dos_materiais %}checked{% endif %}>&nbsp;
        </td>
        <td>Resistência dos Materiais</td>
    </tr>
    <tr><td>&nbsp;<input type="checkbox" name="selection" value="modelagem_de_sistemas" 
            {% if projeto.areas_de_interesse.modelagem_de_sistemas %}checked{% endif %}>&nbsp;
        </td>
        <td>Modelagem de Sistemas</td>
    </tr>
    <tr><td>&nbsp;<input type="checkbox" name="selection" value="controle_e_automacao" 
            {% if projeto.areas_de_interesse.controle_e_automacao %}checked{% endif %}>&nbsp;
        </td>
        <td>Controle e Automação</td>
    </tr>      
    <tr><td>&nbsp;<input type="checkbox" name="selection" value="termodinamica" 
            {% if projeto.areas_de_interesse.termodinamica %}checked{% endif %}>&nbsp;
        </td>
        <td>Termodinâmica</td>
    </tr>
    <tr><td>&nbsp;<input type="checkbox" name="selection" value="fluidodinamica" 
            {% if projeto.areas_de_interesse.fluidodinamica %}checked{% endif %}>&nbsp;
        </td>
        <td>Fluidodinâmica</td>
    </tr>
    <tr><td>&nbsp;<input type="checkbox" name="selection" value="eletronica_digital" 
            {% if projeto.areas_de_interesse.eletronica_digital %}checked{% endif %}>&nbsp;
        </td>
        <td>Eletrônica Digital</td>
    </tr>
    <tr><td>&nbsp;<input type="checkbox" name="selection" value="programacao" 
            {% if projeto.areas_de_interesse.programacao %}checked{% endif %}>&nbsp;
        </td>
        <td>Programação</td>
    </tr>      
    <tr><td>&nbsp;<input type="checkbox" name="selection" value="inteligencia_artificial" 
            {% if projeto.areas_de_interesse.inteligencia_artificial %}checked{% endif %}>&nbsp;
        </td>
        <td>Inteligência Artificial</td>
    </tr>
    <tr><td>&nbsp;<input type="checkbox" name="selection" value="computacao_em_nuvem" 
            {% if projeto.areas_de_interesse.computacao_em_nuvem %}checked{% endif %}>&nbsp;
        </td>
        <td>Computação em Nuvem</td>
    </tr>
    <tr><td>&nbsp;<input type="checkbox" name="selection" value="banco_de_dados" 
            {% if projeto.areas_de_interesse.banco_de_dados %}checked{% endif %}>&nbsp;
        </td>
        <td>Banco de Dados</td>
    </tr>
    <tr><td>&nbsp;<input type="checkbox" name="selection" value="visao_computacional" 
            {% if projeto.areas_de_interesse.visao_computacional %}checked{% endif %}>&nbsp;
        </td>
        <td>Visão Computacional</td>
    </tr>      
    <tr><td>&nbsp;<input type="checkbox" name="selection" value="computacao_de_alto_desempenho" 
            {% if projeto.areas_de_interesse.computacao_de_alto_desempenho %}checked{% endif %}>&nbsp;
        </td>
        <td>Computação de Alto Desempenho</td>
    </tr>
    <tr><td>&nbsp;<input type="checkbox" name="selection" value="robotica" 
            {% if projeto.areas_de_interesse.robotica %}checked{% endif %}>&nbsp;
        </td>
        <td>Robótica</td>
    </tr>
    <tr><td>&nbsp;<input type="checkbox" name="selection" value="realidade_virtual_aumentada" 
            {% if projeto.areas_de_interesse.realidade_virtual_aumentada %}checked{% endif %}>&nbsp;
        </td>
        <td>Realidade Virtual/Aumentada</td>
    </tr>
    <tr><td>&nbsp;<input type="checkbox" name="selection" value="protocolos_de_comunicacao" 
            {% if projeto.areas_de_interesse.protocolos_de_comunicacao %}checked{% endif %}>&nbsp;
        </td>
        <td>Protocolos de Comunicação</td>
    </tr>      
    <tr><td>&nbsp;<input type="checkbox" name="selection" value="eficiencia_energetica" 
            {% if projeto.areas_de_interesse.eficiencia_energetica %}checked{% endif %}>&nbsp;
        </td>
        <td>Eficiência Energética</td>
    </tr>
    <tr><td>&nbsp;<input type="checkbox" name="selection" value="administracao_economia_financas" 
            {% if projeto.areas_de_interesse.administracao_economia_financas %}checked{% endif %}>&nbsp;
        </td>
        <td>Administração, Economia e Finanças</td>
    </tr>
    </table>
  {% endif %}

  <p>&nbsp;</p>





{% endblock %}